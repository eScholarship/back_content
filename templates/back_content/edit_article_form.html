{% extends "admin/core/base.html" %}

{% block title %}Back Content Submission{% endblock %}


{% block breadcrumbs %}
    {{ block.super }}
    <li><a href="{% url 'bc_index' %}">Back Content Plugin</a></li>
    <li>{% if article %}{{ article.safe_title }}{% else %}New Article{% endif %}</li>
{% endblock breadcrumbs %}

{% block body %}
<section class="content">
    <div class="row expanded">
        <div class="large-12 columns box">
            <form method="POST">
                {% csrf_token %}
                <div class="title-area">
                    <h2 id="section-one">1. Article Metadata</h2>
                </div>
                <div class="content">
                    <div class="large-12 columns">
                        <label for="id_title">{% trans "Title" %}</label>
                        {{ article_form.title }}
                        {{ article_form.title.errors }}
                    </div>
                    <div class="large-12 columns">
                        <label for="id_abstract">
                            {% trans "Abstract" %}{% if form.abstract.field.required %}*{% endif %}</label>
                        {{ article_form.abstract }}
                        {{ article_form.abstract.errors }}
                    </div>
                    <div class="large-4 columns">
                        <label for="id_language">{% trans "Language" %}</label>
                        {{ article_form.language }}
                        {{ article_form.language.errors }}
                    </div>
                    <div class="large-4 columns">
                        <label for="id_section">{% trans "Section" %}</label>
                        {{ article_form.section }}
                        {{ article_form.section.errors }}
                    </div>
                    <div class="large-4 columns error">
                        <label for="id_license">{% if article_form.license.errors %}
                            <span style="color: red;">{% endif %}{% trans "License" %}
                            {% if article_form.license.errors %}</span>{% endif %}
                            {% if article_form.license.field.required %}*{% endif %}</label>
                        {{ article_form.license }}
                        {{ article_form.license.errors }}
                    </div>
                    <div class="large-12 columns">
                        <label for="id_keywords">Keywords</label>
                        <input type="text" id="id_keywords" name="keywords" value="
                                {% if article_form.cleaned_data.keywords %}{{ article_form.cleaned_data.keywords }}{% else %}{% for keyword in article.keywords.all %}{{ keyword.word }}{% if not forloop.last %},{% endif %}{% endfor %}{% endif %}"/>
                        Hit Enter to add a new keyword.
                    </div>

                    {% include "admin/elements/submission/additional_fields.html" with form=article_form additional_fields=additional_fields %}
                </div>
                <div class="large-12 columns">
                    <div class="button-group">
                        <button class="success button" type="submit" name="save_close">
                            Save & Close
                        </button>
                        <button class="success button" type="submit" name="save_continue">
                            Save & Continue
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</section>
{% endblock body %}

